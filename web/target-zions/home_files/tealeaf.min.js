/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @version 2.0.4.759
 * @flags jQuery,NDEBUG
 */
var TLT=(function(){function indexOf(array,item){var i,len;if(array){for(i=0,len=array.length;i<len;i+=1){if(array[i]===item){return i}}}return -1}function isUndefOrNull(obj){return typeof obj==="undefined"||obj===null}function forEach(array,callback,context){var i,len;if(!array||!array.length||!callback||!callback.call){return}for(i=0,len=array.length;i<len;i+=1){callback.call(context,array[i],i,array)}}function mixin(dst){var prop,src,srcId,len;for(srcId=1,len=arguments.length;srcId<len;srcId+=1){src=arguments[srcId];for(prop in src){if(Object.prototype.hasOwnProperty.call(src,prop)){dst[prop]=src[prop]}}}return dst}function getDocument(node){if(node.nodeType!==9){return(!isUndefOrNull(node.ownerDocument))?(node.ownerDocument):(node.document)}return node}function getWindow(node){if(node.self!==node){var ownerDocument=getDocument(node);return(!isUndefOrNull(ownerDocument.defaultView))?(ownerDocument.defaultView):(ownerDocument.parentWindow)}return node}function logScreenview(type,name,referrerName,root){var screenviewMsg=null,queue=TLT.getService("queue"),replay=TLT.getModule("replay"),webEvent=null;if(!name||typeof name!=="string"){return}if(!referrerName||typeof referrerName!=="string"){referrerName=""}screenviewMsg={type:2,screenview:{type:type,name:name,url:window.location.pathname,referrer:referrerName}};if(type==="LOAD"){if(replay){webEvent={type:"screenview_load"};replay.onevent(webEvent)}}if(type==="LOAD"||type==="UNLOAD"){queue.post("",screenviewMsg,"DEFAULT")}}var modules={},services={},initialized=false,state=null,jscriptVersionIE=(function(){var _scriptVersionIE=0;
/*@cc_on
            _scriptVersionIE = @_jscript_version;
            @*/
return _scriptVersionIE}()),legacyIE=(function(){var _legacyIE=false;
/*@cc_on
            _legacyIE = @_jscript_version < 9 || (window.performance && document.documentMode < 9);
            @*/
return _legacyIE}()),localTop=window.window,lastClickedElement=null,servicePassthroughs={config:["getConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],queue:["post","setAutoFlush","flushAll"],browserBase:["processDOMEvent"]},loadUnloadHandler=(function(){var status={};return{normalizeModuleEvents:function(moduleName,moduleEvents){var load=false,unload=false,browserService=core.getService("browser");status[moduleName]={loadFired:false,pageHideFired:false};forEach(moduleEvents,function(eventConfig){switch(eventConfig.name){case"load":load=true;moduleEvents.push(mixin(mixin({},eventConfig),{name:"pageshow"}));break;case"unload":unload=true;moduleEvents.push(mixin(mixin({},eventConfig),{name:"pagehide"}));moduleEvents.push(mixin(mixin({},eventConfig),{name:"beforeunload"}));break;case"change":if(legacyIE&&browserService.getServiceName()==="W3C"){moduleEvents.push(mixin(mixin({},eventConfig),{name:"propertychange"}))}break}});if(!load&&!unload){delete status[moduleName];return}status[moduleName].silentLoad=!load;status[moduleName].silentUnload=!unload;if(!load){moduleEvents.push({name:"load",target:window.window})}if(!unload){moduleEvents.push({name:"unload",target:window.window})}},canPublish:function(moduleName,event){var mod;if(status.hasOwnProperty(moduleName)===false){return true}mod=status[moduleName];switch(event.type){case"load":mod.pageHideFired=false;mod.loadFired=true;return !mod.silentLoad;case"pageshow":mod.pageHideFired=false;event.type="load";return !mod.loadFired&&!mod.silentLoad;case"pagehide":event.type="unload";mod.loadFired=false;mod.pageHideFired=true;return !mod.silentUnload;case"unload":case"beforeunload":event.type="unload";mod.loadFired=false;return !mod.pageHideFired&&!mod.silentUnload}return true},isUnload:function(event){return typeof event==="object"?(event.type==="unload"||event.type==="beforeunload"||event.type==="pagehide"):false}}}()),events={},_init=function(){},_callback=null,okToCallInit=true,_lastTouch=null,_hasScroll=false,_sendScroll=false,_isApple=navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1||navigator.userAgent.indexOf("iPad")>-1,core={init:function(config,callback){_callback=callback;if(!okToCallInit){throw"init must only be called once!"}okToCallInit=false;_init(config,callback)},isInitialized:function(){return initialized},getState:function(){return state},destroy:function(skipEvents){var token="",eventName="",target=null,serviceName=null,service=null,browser=null;this.stopAll();if(!skipEvents){browser=this.getService("browser");for(token in events){if(events.hasOwnProperty(token)&&browser!==null){eventName=token.split("|")[0];target=events[token].target;browser.unsubscribe(eventName,target,this._publishEvent)}}}for(serviceName in services){if(services.hasOwnProperty(serviceName)){service=services[serviceName].instance;if(service&&typeof service.destroy==="function"){service.destroy()}}}events={};initialized=false;okToCallInit=true;state="destroyed";if(typeof _callback==="function"){_callback("destroyed")}},_updateModules:function(scope){var config=this.getCoreConfig(),browser=this.getService("browser"),moduleConfig=null,moduleName=null;if(config&&browser&&config.modules){try{for(moduleName in config.modules){if(config.modules.hasOwnProperty(moduleName)){moduleConfig=config.modules[moduleName];if(modules.hasOwnProperty(moduleName)){if(moduleConfig.enabled===false){this.stop(moduleName)}else{this.start(moduleName)}if(moduleConfig.events&&browser!==null){this._registerModuleEvents(moduleName,moduleConfig.events,scope)}}else{if(browser.loadScript){browser.loadScript(config.moduleBase+moduleName+".js")}}}}}catch(e){core.destroy();return false}}else{return false}return true},rebind:function(scope){core._updateModules(scope)},logCustomEvent:function(name,customMsgObj){var customMsg=null,queue=this.getService("queue");if(!name||typeof name!=="string"){name="CUSTOM"}customMsgObj=customMsgObj||{};customMsg={type:5,customEvent:{name:name,data:customMsgObj}};queue.post("",customMsg,"DEFAULT")},logExceptionEvent:function(msg,url,line){var exceptionMsg=null,queue=this.getService("queue");if(!msg||typeof msg!=="string"){return}url=url||"";line=line||"";exceptionMsg={type:6,exception:{description:msg,url:url,line:line}};queue.post("",exceptionMsg,"DEFAULT")},logScreenviewLoad:function(name,referrerName,root){logScreenview("LOAD",name,referrerName,root)},logScreenviewUnload:function(name){logScreenview("UNLOAD",name)},_hasSameOrigin:function(iframe){try{return iframe.document.location.host===document.location.host&&iframe.document.location.protocol===document.location.protocol}catch(e){}return false},_registerModuleEvents:function(moduleName,moduleEvents,scope){scope=scope||localTop.document;this._registerModuleEventsOnScope(moduleName,moduleEvents,scope);if(moduleName!=="performance"){var hIFrame=null,cIFrames=scope.getElementsByTagName("iframe"),i,iLength;for(i=0,iLength=cIFrames.length;i<iLength;i+=1){hIFrame=cIFrames[i];if(this._hasSameOrigin(hIFrame.contentWindow)){this._registerModuleEvents(moduleName,moduleEvents,hIFrame.contentWindow.document)}}}},_registerModuleEventsOnScope:function(moduleName,moduleEvents,scope){var browserBase=this.getService("browserBase"),browser=this.getService("browser"),documentScope=getDocument(scope),isFrame=browserBase.isIFrameDescendant(scope);scope=scope||documentScope;loadUnloadHandler.normalizeModuleEvents(moduleName,moduleEvents);forEach(moduleEvents,function(eventConfig){var target=eventConfig.target||documentScope,token="";if(eventConfig.recurseFrames!==true&&isFrame){return}if(typeof target==="string"){forEach(browser.queryAll(target,scope),function(element){var idData=browserBase.ElementData.prototype.examineID(element);token=eventConfig.name+"|"+idData.id+idData.type;if(indexOf(events[token],moduleName)!==-1){return}events[token]=events[token]||[];events[token].push(moduleName);events[token].target=element;browser.subscribe(eventConfig.name,element,core._publishEvent)})}else{token=core._buildToken4bubbleTarget(eventConfig.name,target,typeof eventConfig.target==="undefined");if(!events.hasOwnProperty(token)){events[token]=[moduleName];browser.subscribe(eventConfig.name,target,core._publishEvent)}else{if(indexOf(events[token],moduleName)===-1){events[token].push(moduleName)}}}if(token!==""){if(typeof target!=="string"){events[token].target=target}}})},_buildToken4currentTarget:function(event){var target=event.nativeEvent.currentTarget,idData=this.getService("browserBase").ElementData.prototype.examineID(target);return event.type+"|"+idData.id+idData.type},_buildToken4bubbleTarget:function(eventType,target,checkIframe){var _getIframeElement=function(documentScope){var retVal=null;if(core._hasSameOrigin(localTop)){forEach(localTop.window.document.getElementsByTagName("iframe"),function(iframe){if(core._hasSameOrigin(iframe.contentWindow)&&iframe.contentWindow.document===documentScope){retVal=iframe}})}return retVal},documentScope=getDocument(target),browserBase=this.getService("browserBase"),iframeElement=null,tmpTarget,retVal=eventType;if(target===window||target===window.window){retVal+="|null-2|window"}else{if(checkIframe&&core._hasSameOrigin(localTop)&&typeof documentScope!=="undefined"&&localTop.window.document!==documentScope){iframeElement=_getIframeElement(documentScope);if(iframeElement){tmpTarget=browserBase.ElementData.prototype.examineID(iframeElement);retVal+="|"+tmpTarget.xPath+"-2"}}else{retVal+="|null-2|document"}}return retVal},_reinitConfig:function(){core._updateModules()},_handleTouchStart:function(event){var i,j;if(_isApple){return false}if(_lastTouch===null){_lastTouch=event;return true}for(i=0;i<_lastTouch.nativeEvent.touches.length;i+=1){for(j=0;j<event.nativeEvent.touches.length;j+=1){if(_lastTouch.nativeEvent.touches[i]===event.nativeEvent.touches[j]){return true}}}core._prepNonIosTouchEnd();_lastTouch=event;return true},_handleTouchMove:function(event){if(_isApple){return}_lastTouch=event},_handleTouchScroll:function(event){if(_isApple){return false}if(_lastTouch!==null&&event.type==="scroll"){_lastTouch.target.position.x=event.target.position.x;_lastTouch.target.position.y=event.target.position.y;_hasScroll=true}return true},_prepNonIosTouchEnd:function(){var hasBeenPublished=false;if(_lastTouch!==null){_lastTouch.type="touchend";_lastTouch.nativeEvent.type="touchend";core._publishEvent(_lastTouch);if(_hasScroll){_lastTouch.type="scroll";_lastTouch.nativeEvent.type="scroll";_sendScroll=true;core._publishEvent(_lastTouch)}hasBeenPublished=true}_lastTouch=null;_hasScroll=false;_sendScroll=false;return hasBeenPublished},_publishEvent:function(event){var moduleName=null,module=null,token=event.type+"|"+event.target.id+event.target.idType,modules=null,i,len,target,modEvent=null,canIgnore=false,canPublish=false,browserService=core.getService("browser");if((event.type==="load"||event.type==="pageshow")&&!event.nativeEvent.customLoad){return}if(_isApple&&(event.type==="touchstart"||event.type==="touchmove")){return}else{if(_lastTouch!==null&&event.type!=="touchstart"&&event.type!=="touchmove"&&event.type!=="scroll"&&event.type!=="touchend"){core._prepNonIosTouchEnd()}else{if(event.type==="touchstart"){core._handleTouchStart(event);return}else{if(event.type==="touchmove"){core._handleTouchMove(event);return}else{if(_lastTouch!==null&&event.type==="scroll"&&!_sendScroll){core._handleTouchScroll(event);return}else{if(_hasScroll){token="scroll|null-2|window"}}}}}}if(jscriptVersionIE>0){if(event.type==="click"){lastClickedElement=event.target.element}if(event.type==="beforeunload"){canIgnore=false;forEach(core.getCoreConfig().ieExcludedLinks,function(selector){var i,len,el=browserService.queryAll(selector);for(i=0,len=el?el.length:0;i<len;i+=1){if(typeof el[i]!==undefined&&el[i]===lastClickedElement){canIgnore=true;return}}});if(canIgnore){return}}}if(loadUnloadHandler.isUnload(event)){state="unloading"}if(event.type==="change"&&legacyIE&&browserService.getServiceName()==="W3C"&&(event.target.element.type==="checkbox"||event.target.element.type==="radio")){return}if(event.type==="propertychange"){if(event.nativeEvent.propertyName==="checked"&&(event.target.element.type==="checkbox"||(event.target.element.type==="radio"&&event.target.element.checked))){event.type=event.target.type="change"}else{return}}if(!events.hasOwnProperty(token)&&event.nativeEvent&&event.nativeEvent.currentTarget){token=core._buildToken4currentTarget(event)}if(!events.hasOwnProperty(token)){if(event.hasOwnProperty("nativeEvent")){target=event.nativeEvent.currentTarget||event.nativeEvent.target}token=core._buildToken4bubbleTarget(event.type,target,true)}if(events.hasOwnProperty(token)){modules=events[token];for(i=0,len=modules.length;i<len;i+=1){moduleName=modules[i];module=core.getModule(moduleName);modEvent=mixin({},event);if(module&&core.isStarted(moduleName)&&typeof module.onevent==="function"){canPublish=loadUnloadHandler.canPublish(moduleName,modEvent);if(canPublish){module.onevent(modEvent)}}}}if(modEvent&&modEvent.type==="unload"&&canPublish){TLT.destroy()}},_getLocalTop:function(){return localTop},addModule:function(moduleName,creator){modules[moduleName]={creator:creator,instance:null,context:null,messages:[]};if(this.isInitialized()){this.start(moduleName)}},getModule:function(moduleName){if(modules[moduleName]&&modules[moduleName].instance){return modules[moduleName].instance}return null},removeModule:function(moduleName){this.stop(moduleName);delete modules[moduleName]},isStarted:function(moduleName){return modules.hasOwnProperty(moduleName)&&modules[moduleName].instance!==null},start:function(moduleName){var moduleData=modules[moduleName],instance=null;if(moduleData&&moduleData.instance===null){moduleData.context=new TLT.ModuleContext(moduleName,this);instance=moduleData.instance=moduleData.creator(moduleData.context);if(typeof instance.init==="function"){instance.init()}}},startAll:function(){var moduleName=null;for(moduleName in modules){if(modules.hasOwnProperty(moduleName)){this.start(moduleName)}}},stop:function(moduleName){var moduleData=modules[moduleName],instance=null;if(moduleData&&moduleData.instance!==null){instance=moduleData.instance;if(typeof instance.destroy==="function"){instance.destroy()}moduleData.instance=moduleData.context=null}},stopAll:function(){var moduleName=null;for(moduleName in modules){if(modules.hasOwnProperty(moduleName)){this.stop(moduleName)}}},addService:function(serviceName,creator){services[serviceName]={creator:creator,instance:null}},getService:function(serviceName){if(services.hasOwnProperty(serviceName)){if(!services[serviceName].instance){try{services[serviceName].instance=services[serviceName].creator(this)}catch(e){core.destroy(true);return null}if(typeof services[serviceName].instance.getServiceName!=="function"){services[serviceName].instance.getServiceName=function(){return serviceName}}}return services[serviceName].instance}return null},removeService:function(serviceName){delete services[serviceName]},broadcast:function(message){var i=0,len=0,prop=null,module=null;if(message&&typeof message==="object"){for(prop in modules){if(modules.hasOwnProperty(prop)){module=modules[prop];if(indexOf(module.messages,message.type)>-1){if(typeof module.instance.onmessage==="function"){module.instance.onmessage(message)}}}}}},listen:function(moduleName,messageType){var module=null;if(this.isStarted(moduleName)){module=modules[moduleName];if(indexOf(module.messages,messageType)===-1){module.messages.push(messageType)}}}};_init=function(config,callback){var configService,event,webEvent,baseBrowser,browserService;if(initialized){return}if(!document.readyState&&document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.readyState="complete";_init(config,callback)},false)}if(document.readyState==="complete"){configService=core.getService("config");configService.updateConfig(config);if(!core._updateModules()){if(state!=="destroyed"){core.destroy()}return}if(configService.subscribe){configService.subscribe("configupdated",core._reinitConfig)}initialized=true;state="loaded";event={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:true,cancelBubble:false,cancelable:true,timeStamp:+new Date(),customLoad:true};baseBrowser=core.getService("browserBase");webEvent=new baseBrowser.WebEvent(event);core._publishEvent(webEvent);if(typeof _callback==="function"){try{_callback("initialized")}catch(e){}}}else{if(!document.readyState){setTimeout(function(){document.readyState="complete";_init(config,callback)},10000)}else{setTimeout(function(){_init(config,callback)},10)}}};(function(){var name=null,i,len;for(name in servicePassthroughs){if(servicePassthroughs.hasOwnProperty(name)){for(i=0,len=servicePassthroughs[name].length;i<len;i+=1){(function(serviceName,methodName){core[methodName]=function(){var service=this.getService(serviceName);if(service){return service[methodName].apply(service,arguments)}}}(name,servicePassthroughs[name][i]))}}}}());return core}());
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
(function(){TLT.EventTarget=function(){this._handlers={}};TLT.EventTarget.prototype={constructor:TLT.EventTarget,publish:function(c,f){var d=0,a=0,b=this._handlers[c],e={type:c,data:f};if(typeof b!=="undefined"){for(a=b.length;d<a;d+=1){b[d](e)}}},subscribe:function(a,b){if(!this._handlers.hasOwnProperty(a)){this._handlers[a]=[]}this._handlers[a].push(b)},unsubscribe:function(c,e){var d=0,a=0,b=this._handlers[c];if(b){for(a=b.length;d<a;d+=1){if(b[d]===e){b.splice(d,1);return}}}}}}());
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.ModuleContext=(function(){var b=["broadcast","getConfig:getModuleConfig","listen","post"];function a(e){var f=0,d=e.length,c=[];while(f<d){c.push(e[f]);f+=1}return c}return function(g,e){var j={},h=0,c=b.length,k=null,f=null,d=null;for(h=0;h<c;h+=1){k=b[h].split(":");if(k.length>1){d=k[0];f=k[1]}else{d=k[0];f=k[0]}j[d]=(function(i){return function(){var l=a(arguments);l.unshift(g);return e[i].apply(e,l)}}(f))}return j}}());
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("config",function(a){function f(g,h,i){var j="";for(j in i){if(Object.prototype.hasOwnProperty.call(i,j)){if(g&&Object.prototype.toString.call(i[j])==="[Object object]"){if(typeof h[j]==="undefined"){h[j]={}}f(g,h,i)}else{h[j]=i[j]}}}return h}function e(h,g){f(true,h,g);d.publish("configupdated",d.getConfig())}var b={core:{},modules:{},services:{}},c=(function(){var g=null,h=null;if(typeof Object.create==="function"){g=Object.create}else{h=function(){};g=function(i){if(typeof i!=="object"&&typeof i!=="function"){throw new TypeError("Object prototype need to be an object!")}h.prototype=i;return new h()}}return g}()),d=f(false,c(new TLT.EventTarget()),{getConfig:function(){return b},updateConfig:function(g){e(b,g)},getCoreConfig:function(){return b.core},updateCoreConfig:function(g){e(b.core,g)},getServiceConfig:function(g){return b.services[g]||null},updateServiceConfig:function(h,g){if(typeof b.services[h]==="undefined"){b.services[h]={}}e(b.services[h],g)},getModuleConfig:function(g){return b.modules[g]||null},updateModuleConfig:function(h,g){if(typeof b.modules[h]==="undefined"){b.modules[h]={}}e(b.modules[h],g)},destroy:function(){b={core:{},modules:{},services:{}}}});return d});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("queue",function(m){var i=(function(){var x={};function A(B){return typeof x[B]!=="undefined"}function t(B,C){if(!A(B)){x[B]={data:[],queueId:B,url:C.url,threshold:C.threshold,serializer:C.serializer}}return x[B]}function v(B){if(A(B)){delete x[B]}}function y(B){if(A(B)){return x[B]}return null}function w(C){var B=y(C);if(B!==null){B.data=[]}}function z(B){var C=null;if(A(B)){C=y(B).data;w(B)}return C}function u(E,F){var C=null,B=null,G=window.tlBridge,D=window.iOSJSONShuttle;if((typeof G!=="undefined")&&(typeof G.addMessage==="function")){B=JSON.stringify(F);G.addMessage(B)}else{if((typeof D!=="undefined")&&(typeof D==="function")){B=JSON.stringify(F);D(B)}else{if(A(E)){C=y(E);return C.data.push(F)}}}return 0}return{SEND_HEADER_ONCE:-1,SEND_HEADER_ALWAYS:-2,exists:A,add:t,remove:v,get:y,clear:w,flush:z,push:u}}()),s=null,j=m.getService("browser"),h=m.getService("serializer"),q=m.getService("config"),f=m.getService("message"),l=null,r={},c=true;function b(){}function k(){return window.location.pathname}function o(u,y){var z=i.flush(u),x=z!==null?z.length:0,t=i.get(u),w={"Content-Type":"application/json","X-Tealeaf":"device (UIC) Lib/2.0.4.759","X-TealeafType":"GUI","X-TeaLeaf-Page-Url":k()},v=t.serializer||"json";z=f.wrapMessages(z);if(x){j.sendRequest({oncomplete:b,url:t.url,async:!y,headers:w,data:h.serialize(z,v)})}}function e(v){var t=null,u=0;for(u=0;u<s.length;u+=1){t=s[u];o(t.qid,v)}return true}function g(t,v){var u=i.push(t,f.createMessage(v));if(u>=i.get(t).threshold&&c&&m.getState()!=="unloading"){o(t)}}function d(v){var u=null,x="",w=0,t=0;for(w=0;w<s.length;w+=1){u=s[w];if(u&&u.modules){for(t=0;t<u.modules.length;t+=1){x=u.modules[t];if(x===v){return u.qid}}}}return l.qid}function p(v,t){r[v]=window.setTimeout(function u(){o(v);r[v]=window.setTimeout(u,t)},t)}function n(t){}(function a(u){s=u;var t=null,v;for(v in s){if(s.hasOwnProperty(v)){t=s[v];if(t.qid==="DEFAULT"){l=t}i.add(t.qid,{url:t.endpoint,threshold:t.maxEvents,serializer:t.serializer,timerInterval:t.timerInterval||0});if(typeof t.timerInterval!=="undefined"&&t.timerInterval>0){p(t.qid,t.timerInterval)}}}q.subscribe("configupdated",n)}(q.getServiceConfig("queue")));return{_getQueue:function(t){return i.get(t).data},setAutoFlush:function(t){if(t===1){c=true}else{c=false}},destroy:function(){if(c){this.flushAll(true)}q.unsubscribe("configupdated",n)},flush:function(t){if(!i.exists(t)){throw new Error("Queue: "+t+" does not exist!")}o(t)},flushAll:function(t){return e(!!t)},post:function(u,v,t){t=t||d(u);if(!i.exists(t)){throw new Error("Queue: "+t+" does not exist!")}g(t,v)}}});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("browserBase",function(core){var nonClickableTags={OPTGROUP:true,OPTION:true,NOBR:true},queryDom={},config=core.getService("config").getServiceConfig("browser")||{},blacklist=config.hasOwnProperty("blacklist")?config.blacklist:[],customid=config.hasOwnProperty("customid")?config.customid:[];function updateConfig(){config=core.getService("config").getServiceConfig("browser")||{};blacklist=config.hasOwnProperty("blacklist")?config.blacklist:[];customid=config.hasOwnProperty("customid")?config.customid:[]}core.getService("config").subscribe("configupdated",updateConfig);function indexOf(array,item){var i,len;if(array){for(i=0,len=array.length;i<len;i+=1){if(array[i]===item){return i}}}return -1}function isUndefOrNull(obj){return typeof obj==="undefined"||obj===null}function checkId(node){var i,len,re;if(!node||!node.id||typeof node.id!=="string"){return false}for(i=0,len=blacklist.length;i<len;i+=1){if(typeof blacklist[i]==="string"){if(node.id===blacklist[i]){return false}}else{if(typeof blacklist[i]==="object"){re=new RegExp(blacklist[i].regex,blacklist[i].flags);if(re.test(node.id)){return false}}}}return true}function getDocument(node){if(node.nodeType!==9){return(!isUndefOrNull(node.ownerDocument))?(node.ownerDocument):(node.document)}return node}function getWindow(node){if(node.self!==node){var ownerDocument=getDocument(node);return(!isUndefOrNull(ownerDocument.defaultView))?(ownerDocument.defaultView):(ownerDocument.parentWindow)}return node}function isIFrameDescendant(node){return getWindow(node)!=core._getLocalTop()}function getXPathArrayFromNode(node){if(!isUndefOrNull(node)){var i,j,cur_node,idValid=false,nodes_arr=null,parent_window=null,parent_node=null,xpath=[],specialChildNodes={NOBR:true,P:true};cur_node=node;if(!isUndefOrNull(cur_node.tagName)){for(i in specialChildNodes){if(specialChildNodes.hasOwnProperty(i)&&cur_node.tagName.toString()===i){cur_node=cur_node.parentNode}}}for(idValid=checkId(cur_node);cur_node!==document&&!idValid;idValid=checkId(cur_node)){parent_node=cur_node.parentNode;if(!parent_node){parent_window=getWindow(cur_node);parent_node=(parent_window!==core._getLocalTop())?parent_window.frameElement:document}nodes_arr=parent_node.childNodes;if(!nodes_arr){return[]}for(i=0,j=0;i<nodes_arr.length;i+=1){if(nodes_arr[i].nodeType===1&&nodes_arr[i].tagName===cur_node.tagName){if(nodes_arr[i]===cur_node){xpath[xpath.length]=[cur_node.tagName.toUpperCase(),j];break}j+=1}}cur_node=parent_node}if(idValid){xpath[xpath.length]=[cur_node.id];if(isIFrameDescendant(cur_node)){xpath=xpath.concat(getXPathArrayFromNode(getWindow(cur_node).frameElement))}}return xpath}return[]}function getXPathFromNode(node){var xpath=getXPathArrayFromNode(node),parts=[],i;if(xpath.length>0){for(i=xpath.length-1;i>=0;i-=1){if(xpath[i].length>1){parts[parts.length]='["'+xpath[i][0]+'",'+xpath[i][1]+"]"}else{parts[parts.length]='["'+xpath[i][0].toString().replace(/\"/g,'\\"')+'"]'}}return("["+parts.join(",")+"]")}return"null"}function extractResponseHeaders(headers){headers=headers.split("\n");var headersObj={},i=0,len=headers.length,header=null;for(i=0;i<len;i+=2){header=headers[i].split(": ");headersObj[header[0]]=header[1]}return headersObj}function getEventDetails(event){if(!event){return null}if(event.type&&event.type.indexOf("touch")===0){if(typeof event.originalEvent!=="undefined"&&typeof jQuery!=="undefined"){event=event.originalEvent}if(event.type==="touchstart"){event=event.touches[event.touches.length-1]}else{if(event.type==="touchend"){event=event.changedTouches[0]}}}return event}function normalizeEvent(event){var e=event||window.event,doc=document.documentElement,body=document.body;if(typeof e.originalEvent!=="undefined"&&typeof jQuery!=="undefined"&&!e.isSimulated){e=e.originalEvent}if(typeof event==="undefined"||typeof e.target==="undefined"){e.target=e.srcElement||window.window;e.timeStamp=Number(new Date());if(e.pageX===null||typeof e.pageX==="undefined"){e.pageX=e.clientX+((doc&&doc.scrollLeft)||(body&&body.scrollLeft)||0)-((doc&&doc.clientLeft)||(body&&body.clientLeft)||0);e.pageY=e.clientY+((doc&&doc.scrollTop)||(body&&body.scrollTop)||0)-((doc&&doc.clientTop)||(body&&body.clientTop)||0)}e.preventDefault=function(){this.returnValue=false};e.stopPropagation=function(){this.cancelBubble=true}}return e}function normalizeTarget(event){var itemSource=null;if(!event){return null}if(event.srcElement){itemSource=event.srcElement}else{itemSource=event.target;if(!itemSource){itemSource=event.explicitOriginalTarget}if(!itemSource){itemSource=event.originalTarget}}if(!itemSource&&event.type.indexOf("touch")===0){itemSource=getEventDetails(event).target}while(itemSource&&nonClickableTags[itemSource.tagName]){itemSource=itemSource.parentNode}if(!itemSource&&event.srcElement===null){itemSource=window.window}return itemSource}function getEventPosition(event){var posX=0,posY=0,doc=document.documentElement,body=document.body;event=getEventDetails(event);if(event!==null){if(event.pageX&&event.pageY&&event.pageX>0&&event.pageY>0){posX=event.pageX;posY=event.pageY}else{if(event.clientX&&event.clientY){posX=event.clientX+((doc&&doc.scrollLeft)||(body&&body.scrollLeft)||0)-((doc&&doc.clientLeft)||(body&&body.clientLeft)||0);posY=event.clientY+((doc&&doc.scrollTop)||(body&&body.scrollTop)||0)-((doc&&doc.clientTop)||(body&&body.clientTop)||0)}}}return{x:posX,y:posY}}queryDom.xpath=(function(){var __strToArr=typeof JSON==="object"&&typeof JSON.parse==="function"?function(xpathStr){return JSON.parse(String(xpathStr))}:function(xpathStr){return eval(String(xpathStr))};return function(query,scope){var xpath=__strToArr(query),elem,pathElem=null,i,j,k,len,jlen;scope=typeof scope!=="undefined"?scope:document;elem=scope;if(!xpath){return null}for(i=0,len=xpath.length;i<len&&elem;i+=1){pathElem=xpath[i];if(pathElem.length===1){elem=scope.getElementById(pathElem[0])}else{for(j=0,k=-1,jlen=elem.childNodes.length;j<jlen;j+=1){if(elem.childNodes[j].nodeType===1&&elem.childNodes[j].tagName.toUpperCase()===pathElem[0]){k+=1;if(k===pathElem[1]){elem=elem.childNodes[j];break}}}if(k===-1){return null}}}return elem===scope||!elem?null:elem}}());function Point(x,y){this.x=x||0;this.y=y||0}function Size(width,height){this.width=width||0;this.height=height||0}function ElementData(event,target){var id,type,pos;target=normalizeTarget(event);id=this.examineID(target);type=this.examineType(target,event);pos=this.examinePosition(event,target);this.element=target;this.id=id.id;this.idType=id.type;this.type=type.type;this.subType=type.subType;this.state=this.examineState(target);this.position=new Point(pos.x,pos.y);this.size=new Size(pos.width,pos.height);this.xPath=id.xPath;this.name=id.name}ElementData.HTML_ID=-1;ElementData.XPATH_ID=-2;ElementData.ATTRIBUTE_ID=-3;ElementData.prototype.examineID=function(target){var id,type,xPath,attribute_id,name,i=customid.length,attrib;try{xPath=getXPathFromNode(target)}catch(e){}name=target.name;try{if(!isIFrameDescendant(target)){if(checkId(target)){id=target.id;type=ElementData.HTML_ID}else{if(customid.length&&target.attributes){while(i--){attrib=target.attributes[customid[i]];if(typeof attrib!=="undefined"){id=customid[i]+"="+(attrib.value||attrib);type=ElementData.ATTRIBUTE_ID}}}}}}catch(e){}if(!id){id=xPath;type=ElementData.XPATH_ID}return{id:id,type:type,xPath:xPath,name:name}};ElementData.prototype.examineType=function(target,event){var subType="";if(event.type==="change"){if(target.tagName==="TEXTAREA"||(target.tagName==="INPUT"&&target.type==="text")){subType="textChange"}else{subType="valueChange"}}else{subType=event.type}return{type:event.type,subType:subType}};ElementData.prototype.examineState=function(target){var tagnames={a:["innerText","href"],input:{range:["maxValue:max","value"],checkbox:["value","checked"],radio:["value","checked"],image:["src"]},select:["value"],button:["value","innerText"],textarea:["value"]},tagName=typeof target.tagName!=="undefined"?target.tagName.toLowerCase():"",properties=tagnames[tagName]||null,selectedOption=null,values=null,i=0,len=0,alias=null,key="";if(properties!==null){if(Object.prototype.toString.call(properties)==="[object Object]"){properties=properties[target.type]||["value"]}values={};for(key in properties){if(properties.hasOwnProperty(key)){if(properties[key].indexOf(":")!==-1){alias=properties[key].split(":");values[alias[0]]=target[alias[1]]}else{if(properties[key]==="innerText"){values[properties[key]]=target.innerText||target.textContent}else{values[properties[key]]=target[properties[key]]}}}}}if(tagName==="select"&&target.options&&!isNaN(target.selectedIndex)){values.index=target.selectedIndex;selectedOption=target.options[target.selectedIndex];values.value=selectedOption.getAttribute("value")||selectedOption.getAttribute("label")||selectedOption.text||selectedOption.innerText;values.text=selectedOption.text||selectedOption.innerText}return values};function getOffset(element,offset){if(typeof element==="undefined"||element===null){return}offset.x+=element.offsetLeft||0;offset.y+=element.offsetTop||0;if(typeof element.offsetParent!=="undefined"){getOffset(element.offsetParent,offset)}}function getScrollValue(element,scroll){if(typeof element==="undefined"||element===null){return}scroll.x+=element.scrollLeft||0;scroll.y+=element.scrollTop||0;if(typeof element.tagName!=="undefined"&&element.tagName.toLowerCase()!=="html"&&typeof element.parentNode!=="undefined"){getScrollValue(element.parentNode,scroll)}}function getZoomValue(){var factor=1,rect,physicalW,logicalW;if(document.body.getBoundingClientRect){rect=document.body.getBoundingClientRect();physicalW=rect.right-rect.left;logicalW=document.body.offsetWidth;factor=Math.round((physicalW/logicalW)*100)/100}return factor}function getBoundingClientRectNormalized(element){var rectangle={},rect,zoom,offset={x:0,y:0},scroll={x:0,y:0};if(typeof element==="undefined"||element===null){return}if(element.getBoundingClientRect){rect=element.getBoundingClientRect();rectangle.x=rect.left;rectangle.y=rect.top;rectangle.width=rect.right-rect.left;rectangle.height=rect.bottom-rect.top;if(navigator.appName.toLowerCase()==="microsoft internet explorer"){rectangle.x-=document.documentElement.clientLeft;rectangle.y-=document.documentElement.clientTop;zoom=getZoomValue();if(zoom!==1){rectangle.x=Math.round(rectangle.x/zoom);rectangle.y=Math.round(rectangle.y/zoom);rectangle.width=Math.round(rectangle.width/zoom);rectangle.height=Math.round(rectangle.height/zoom)}}}else{getOffset(element,offset);if(typeof element.parentNode!=="undefined"){getScrollValue(element.parentNode,scroll)}rectangle.x=offset.x-scroll.x;rectangle.y=offset.y-scroll.y;rectangle.width=element.offsetWidth;rectangle.height=element.offsetHeight}return rectangle}ElementData.prototype.examinePosition=function(event,target){var posOnDoc=getEventPosition(event),elPos=getBoundingClientRectNormalized(target);elPos.x=posOnDoc.x!==0&&posOnDoc.y!==0?Math.round(Math.abs(posOnDoc.x-elPos.x)):elPos.width/2;elPos.y=posOnDoc.x!==0&&posOnDoc.y!==0?Math.round(Math.abs(posOnDoc.y-elPos.y)):elPos.height/2;return elPos};function WebEvent(event){var pos;event=normalizeEvent(event);pos=getEventPosition(event);this.custom=false;this.nativeEvent=this.custom===true?null:event;this.position=new Point(pos.x,pos.y);this.target=new ElementData(event,event.target);this.timestamp=(new Date()).getTime();this.type=event.type}function processDOMEvent(event){core._publishEvent(new WebEvent(event))}return{extractResponseHeaders:extractResponseHeaders,WebEvent:WebEvent,ElementData:ElementData,processDOMEvent:processDOMEvent,queryDom:queryDom,isIFrameDescendant:isIFrameDescendant}});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("browser",function(e){function a(j){return function k(m,l,o){var n=m,p=false;if(l==="success"){n=o||m;p=true}j({headers:b.extractResponseHeaders(n.getAllResponseHeaders()),responseText:n.responseText,statusCode:n.status,success:p})}}function i(j){return function(l){var k=new b.WebEvent(l);j(k)}}function f(j,k){if(typeof j[k]!=="function"){throw {message:"jQuery Object does not support "+k+"!",code:"JQUERYNOTSUPPORTED"}}}function g(){var o=["on","off"],n=["ajax","find","getScript"],l=parseFloat((typeof jQuery==="function"&&typeof jQuery.fn==="object")?jQuery.fn.jquery:0),k,j=0,m=null;if(typeof jQuery!=="function"){throw {message:"jQuery not found.",code:"JQUERYNOTFOUND"}}for(k=0,j=n.length;k<j;k+=1){f(jQuery,n[k])}for(k=0,j=o.length,m=jQuery({});k<j;k+=1){f(m,o[k])}if(l<1.7){throw {message:"jQuery Object has the wrong version ("+l+")!",code:"JQUERYNOTSUPPORTED"}}}if(typeof jstestdriver==="undefined"){g()}var d={init:function(k){var j=parseFloat(jQuery.fn.jquery);if(j<=1.7){this.init=d["jQuery<=1.7"]}else{this.init=d["jQuery>=1.8"]}this.init(k)},"jQuery<=1.7":function(j){j.complete=a(j.oncomplete);delete j.oncomplete;jQuery.ajax(j)},"jQuery>=1.8":function(l){var k=a(l.oncomplete),j;delete l.oncomplete;j=jQuery.ajax(l.url,l);j.always(k)}},c={list2Array:function(l){var k=l.length,j=[],m;if(typeof l.length==="undefined"){return[l]}for(m=0;m<k;m+=1){j[m]=l[m]}return j},find:function(l,k,j){j=j||"css";return this.list2Array(this[j](l,k))},css:function(k,j){j=j||document;return jQuery(j).find(k).get()}},h={},b=e.getService("browserBase");c.xpath=b.queryDom.xpath;return{getServiceName:function(){return"jQuery"},query:function(l,k,j){return c.find(l,k,j)[0]||null},queryAll:function(l,k,j){return c.find(l,k,j)},loadScript:function(j){jQuery.getScript(j)},sendRequest:function(j){j.type=j.type||"POST";d.init(j)},subscribe:function(k,m,l){var j=i(l);h[l]=j;jQuery(m).on(k,j)},unsubscribe:function(k,m,l){var j=h[l];jQuery(m).off(k,j)}}});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("message",function(C){var y=null,j=0,g=0,B=new Date(),f=new Date(),E=C.getService("config").getServiceConfig("message")||{},x=window.location.href,n="TODO",o="ID"+f.getHours()+"H"+f.getMinutes()+"M"+f.getSeconds()+"S"+f.getMilliseconds()+"R"+Math.random(),F=E.hasOwnProperty("privacy")?E.privacy:[],i={},q={lower:"x",upper:"X",numeric:"9",symbol:"@"},h=navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1||navigator.userAgent.indexOf("iPad")>-1,z=window.devicePixelRatio||1,r=window.screen?window.screen.width:0,s=window.screen?window.screen.height:0,k=window.orientation||0,d=h?r:r<=320?r:r/z,D=h?s:r<=320?s:s/z,c=(window.screen===null?0:window.screen.height-window.screen.availHeight),p=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;function a(H){var G="";this.type=H.type;this.offset=(new Date()).getTime()-B.getTime();if((H.type===2)||(y===null)){y=new Date()}this.screenviewOffset=(new Date()).getTime()-y.getTime();this.count=(g+=1);this.fromWeb=true;for(G in H){if(H.hasOwnProperty(G)){this[G]=H[G]}}}function A(G){return !isNaN(G+1-1)}function u(G){return G===G.toUpperCase()&&G!==G.toLowerCase()}function m(G){return G===G.toLowerCase()&&G!==G.toUpperCase()}i.PVC_MASK_EMPTY=function(G){return""};i.PVC_MASK_BASIC=function(G){return"XXXXX"};i.PVC_MASK_TYPE=function(K){var H=(K||"").split(""),J=0,G=0,I="";for(J=0,G=H.length;J<G;J+=1){if(A(H[J])){I+=q.numeric}else{if(u(H[J])){I+=q.upper}else{if(m(H[J])){I+=q.lower}else{I+=q.symbol}}}}return I};i.PVC_MASK_EMPTY.maskType=1;i.PVC_MASK_BASIC.maskType=2;i.PVC_MASK_TYPE.maskType=3;i.PVC_MASK_CUSTOM={maskType:4};function w(G,I){var H=i.PVC_MASK_BASIC;if(G.maskType===i.PVC_MASK_EMPTY.maskType){H=i.PVC_MASK_EMPTY}else{if(G.maskType===i.PVC_MASK_BASIC.maskType){H=i.PVC_MASK_BASIC}else{if(G.maskType===i.PVC_MASK_TYPE.maskType){H=i.PVC_MASK_TYPE}else{if(G.maskType===i.PVC_MASK_CUSTOM.maskType){H=G.maskFunction}}}}if(typeof I.target.prevState!=="undefined"&&I.target.prevState.hasOwnProperty("value")){I.target.prevState.value=H(I.target.prevState.value)}if(typeof I.target.currState!=="undefined"&&I.target.currState.hasOwnProperty("value")){I.target.currState.value=H(I.target.currState.value)}}function v(M,N){var K,J,O=C.getService("browserBase"),P,G,I,Q,L,H;for(K=0,L=M.length;K<L;K+=1){H=M[K];if(typeof H==="string"){P=C.getService("browser").queryAll(H);for(J=0,G=P?P.length:0;J<G;J+=1){if(P[J]){I=O.ElementData.prototype.examineID(P[J]);if(I.type===N.idType&&I.id===N.id){return true}}}}else{if(H.id&&H.idType&&N.idType.toString()===H.idType.toString()){switch(typeof H.id){case"string":if(H.id===N.id){return true}break;case"object":Q=new RegExp(H.id.regex,H.id.flags);if(Q.test(N.id)){return true}break}}}}return false}function b(J){var I,G,H;if(!J.hasOwnProperty("target")){return J}for(I=0,G=F.length;I<G;I+=1){H=F[I];if(v(H.targets,J.target)){w(H,J)}}return J}function l(){E=C.getService("config").getServiceConfig("message")||{};F=E.hasOwnProperty("privacy")?E.privacy:[]}if(C.getService("config").subscribe){C.getService("config").subscribe("configupdated",l)}function e(G){var H="INVALID";if(typeof G==="undefined"){return H}switch(G){case 0:case 180:case 360:H="PORTRAIT";break;case 90:case -90:case 270:H="LANDSCAPE";break;default:H="UNKNOWN";break}return H}return{createMessage:function(G){if(typeof G.type==="undefined"){throw new TypeError("Invalid queueEvent given!")}return b(new a(G))},wrapMessages:function(H){var G={messageVersion:"2.1.0.0",serialNumber:(j+=1),sessions:[{id:o,startTime:f.getTime(),timezoneOffset:f.getTimezoneOffset(),messages:H,clientEnvironment:{webEnvironment:{libVersion:"2.0.4.759",page:x,windowId:n,screen:{devicePixelRatio:z,deviceOriginalWidth:h?r*z:r,deviceOriginalHeight:h?s*z:s,deviceWidth:d,deviceHeight:D,deviceToolbarHeight:c,width:p,height:t,orientation:k}}}}]},I=G.sessions[0].clientEnvironment.webEnvironment.screen;I.orientationMode=e(I.orientation);return G}}});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addService("serializer",function(core){function serializeToJSON(obj){var str,key,len=0;if(typeof obj!=="object"||obj===null){switch(typeof obj){case"function":case"undefined":return"null";case"string":return'"'+obj.replace(/\"/g,'\\"')+'"';default:return String(obj)}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){str="[";for(key=0,len=obj.length;key<len;key+=1){if(Object.prototype.hasOwnProperty.call(obj,key)){str+=serializeToJSON(obj[key])+","}}}else{str="{";for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){str=str.concat('"',key,'":',serializeToJSON(obj[key]),",");len+=1}}}}if(len>0){str=str.substring(0,str.length-1)}str+=String.fromCharCode(str.charCodeAt(0)+2);return str}var serialize={json:null},parse={json:null};if(typeof window.JSON!=="undefined"){serialize.json=window.JSON.stringify;parse.json=window.JSON.parse}else{serialize.json=serializeToJSON;parse.json=function(data){return eval("("+data+")")}}return{parse:function(data,type){type=type||"json";return parse[type](data)},serialize:function(data,type){type=type||"json";return serialize[type](data)}}});
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
if(TLT&&typeof TLT.addModule==="function"){TLT.addModule("performance",function(e){var f={loadReceived:false,unloadReceived:false,perfEventSent:false};function b(h,g){if(typeof h!=="string"){return false}if(!g||typeof g!=="object"){return false}return(g[h]===true)}function d(i,g){var k=0,h={},l="",j=0;if(!i||typeof i!=="object"||!i.navigationStart){return{}}k=i.navigationStart;for(l in i){if(Object.prototype.hasOwnProperty.call(i,l)||typeof i[l]==="number"){if(!b(l,g)){j=i[l];if(typeof j==="number"&&j){h[l]=j-k}else{h[l]=j}}}}return h}function c(g){var h=0;if(g&&g.loadEventStart&&g.responseEnd){h=g.loadEventStart-g.responseEnd}return h}function a(k){var i=e.getConfig()||{},h="UNKNOWN",l={type:7,performance:{}},g,m,j;if(!k||!k.performance||f.perfEventSent){return}m=k.performance;j=m.timing;g=m.navigation;if(j){l.performance.timing=d(j,i.filter);l.performance.timing.renderTime=c(j)}if(g){switch(g.type){case 0:h="NAVIGATE";break;case 1:h="RELOAD";break;case 2:h="BACKFORWARD";break;default:h="UNKNOWN";break}l.performance.navigation={type:h,redirectCount:g.redirectCount}}e.post(l);f.perfEventSent=true}return{init:function(){},destroy:function(){},onevent:function(g){if(typeof g!=="object"||!g.type){return}switch(g.type){case"load":f.loadReceived=true;break;case"unload":f.unloadReceived=true;if(!f.perfEventSent){a(window)}break;default:break}},onmessage:function(g){}}})}else{}
/*!
 * Copyright 2013 Tealeaf Technology, Inc.
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY TEALEAF "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE DISCLAIMED.
 * IN NO EVENT SHALL TEALEAF BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
TLT.addModule("replay",function(ah){var B={"input:radio":"radioButton","input:checkbox":"checkBox","input:text":"textBox","input:password":"textBox","input:file":"fileInput","input:button":"button","input:submit":"submitButton","input:reset":"resetButton","input:image":"image","input:color":"color","input:date":"date","input:datetime":"datetime","input:datetime-local":"datetime-local","input:number":"number","input:email":"email","input:tel":"tel","input:search":"search","input:url":"url","input:time":"time","input:week":"week","textarea:":"textBox","select:":"selectList","button:":"button","a:":"link"},K=window.orientation||0,ae={scale:0,timestamp:0},Y={},C=window.location.hash,G=null,e=[],aa=0,ac=null,A=null,k=0,U="",y="",Q=(new Date()).getTime(),j=0,S=null,af=null,R=null,X=0,u=0,ad=null,t={inFocus:false},N=null,z=navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1||navigator.userAgent.indexOf("iPad")>-1,p=window.devicePixelRatio||1,o=(window.screen===null?0:window.screen.width),F=(window.screen===null?0:window.screen.height),V=(window.screen===null?0:window.screen.height-window.screen.availHeight);function J(al,ak){var aj,ai;if(!al||typeof al!=="object"){return null}ai=ak.split(".");for(aj=0;aj<ai.length;aj+=1){if((typeof al==="undefined")||(al[ai[aj]]===null)){return null}al=al[ai[aj]]}return al}function g(aj){var ai=[];aj=aj.parentNode;while(aj){ai.push(aj);aj=aj.parentNode}return ai}function M(am,al){var aj,ai,ak=false;for(aj=0,ai=am.length;aj<ai;aj+=1){ak=al(am[aj],aj,am);if(ak){return ak}}return ak}function v(ai){return M(ai,function(aj){if(aj.tagName==="A"||aj.tagName==="BUTTON"){return aj}return null})}function m(ai){var aj=ai.type;if(typeof aj==="string"){aj=aj.toLowerCase()}else{aj="unknown"}if(aj==="blur"){aj="focusout"}return aj}function Z(aq){var ak,aj=J(aq,"webEvent.target.element.tagName"),al=aj.toLowerCase()==="input"?J(aq,"webEvent.target.element.type"):"",ai=B[aj.toLowerCase()+":"+al]||aj,an=g(J(aq,"webEvent.target.element")),ap=null,am=J(aq,"webEvent.target.position.relXY"),ao=J(aq,"webEvent.target.subtype");ak={type:4,target:{id:aq.id||"",idType:J(aq,"webEvent.target.idType"),name:J(aq,"webEvent.target.name"),tlType:ai,type:aj,subType:al,position:{width:J(aq,"webEvent.target.element.offsetWidth"),height:J(aq,"webEvent.target.element.offsetHeight")},currState:aq.currState||null},event:{tlEvent:m(J(aq,"webEvent")),type:J(aq,"webEvent.target.type")}};if(am){ak.target.position.relXY=am}if(typeof aq.dwell!=="undefined"||aq.dwell===-1){ak.target.dwell=aq.dwell}if(typeof aq.visitedCount!=="undefined"){ak.target.visitedCount=aq.visitedCount}if(typeof aq.prevState!=="undefined"){ak.prevState=aq.prevState}if(typeof ao!=="undefined"){ak.event.subType=ao}ak.target.name=J(aq,"webEvent.target.name");ap=v(an);ak.target.isParentLink=!!ap;if(ap){if(ap.href){ak.target.currState=ak.target.currState||{};ak.target.currState.href=ak.target.currState.href||ap.href}if(ap.value){ak.target.currState=ak.target.currState||{};ak.target.currState.value=ak.target.currState.value||ap.value}if(ap.innerText||ap.textContent){ak.target.currState=ak.target.currState||{};ak.target.currState.innerText=ak.target.currState.innerText||ap.innerText||ap.textContent}}return ak}function D(ai){ah.post(ai)}function I(am){var ak=0,ai,an=am.length,ap,ao,al,aq={mouseout:true,mouseover:true},aj=[];for(ak=0;ak<an;ak+=1){ap=am[ak];if(!ap){continue}if(aq[ap.event.type]){aj.push(ap)}else{for(ai=ak+1;ai<an&&am[ai]&&aq[am[ai].event.type];ai+=1){}if(ai<an){ao=am[ai];if(ao&&ap.target.id===ao.target.id&&ap.event.type!==ao.event.type){if(ap.event.type==="click"){al=ap;ap=ao;ao=al}if(ao.event.type==="click"){ap.target.position=ao.target.position;ak+=1}else{if(ao.event.type==="blur"){ap.target.dwell=ao.target.dwell;ap.target.visitedCount=ao.target.visitedCount;ap.focusInOffset=ao.focusInOffset;ap.target.position=ao.target.position;ak+=1}}am[ai]=null;am[ak]=ap}}aj.push(am[ak])}}while((ap=aj.shift())){ah.post(ap)}am.splice(0,am.length)}if(typeof window.onerror!=="function"){window.onerror=function(al,ak,ai){var aj=null;if(typeof al!=="string"){return}ai=ai||-1;aj={type:6,exception:{description:al,url:ak,line:ai}};k+=1;ah.post(aj)}}function n(aj,ai){t=ai;t.inFocus=true;if(typeof Y[aj]==="undefined"){Y[aj]={}}Y[aj].focus=t.dwellStart=Number(new Date());Y[aj].focusInOffset=R?t.dwellStart-Number(R):-1;Y[aj].prevState=J(ai,"target.state");Y[aj].visitedCount=Y[aj].visitedCount+1||1}function W(ai,aj){e.push(Z({webEvent:ai,id:aj,currState:J(ai,"target.state")}))}function q(ak){var ai=false,aj="|button|image|submit|reset|checkbox|radio|",al=null;if(typeof ak!=="object"||!ak.type){return ai}switch(ak.type){case"INPUT":al="|"+(ak.subType||"")+"|";if(aj.indexOf(al.toLowerCase())===-1){ai=false}else{ai=true}break;case"TEXTAREA":ai=false;break;default:ai=true;break}return ai}function d(ak,aj){var ai;if(typeof ak==="undefined"||ak===null||typeof aj==="undefined"||aj===null){return}t.inFocus=false;if(typeof Y[ak]!=="undefined"&&Y[ak].hasOwnProperty("focus")){Y[ak].dwell=Number(new Date())-Y[ak].focus}else{Y[ak]={};Y[ak].dwell=Number(new Date())}if(e.length===0){aj.type=aj.target.type="blur";W(aj,ak)}ai=e[e.length-1];if(ai){ai.target.dwell=Y[ak].dwell;ai.focusInOffset=Y[ak].focusInOffset;ai.target.visitedCount=Y[ak].visitedCount;if(ai.event.type==="click"&&!q(ai.target)){ai.event.type="blur";ai.event.tlEvent="focusout"}}I(e)}function l(ak,aj){var ai=false;if(e[e.length-1]&&e[e.length-1].target.id!==ak&&aj.type!=="scroll"&&aj.type!=="resize"&&aj.type!=="mouseout"&&aj.type!=="mouseover"&&(e[e.length-1].target.tlType!=="textBox"&&e[e.length-1].target.tlType!=="selectList")){d(e[e.length-1].target.id,e[e.length-1]);ai=true}return ai}function c(aj,ai){if(typeof Y[aj]!=="undefined"&&!Y[aj].hasOwnProperty("focus")){n(aj,ai)}W(ai,aj);if(typeof Y[aj]!=="undefined"&&typeof Y[aj].prevState!=="undefined"){if(e[e.length-1].target.tlType==="textBox"||e[e.length-1].target.tlType==="selectList"){e[e.length-1].target.prevState=Y[aj].prevState}}}function E(ak){var aj=ak.target.position.x,ao=ak.target.position.y,al=ak.target.size.width,ai=ak.target.size.height,an=Math.abs(aj/al).toFixed(1),am=Math.abs(ao/ai).toFixed(1);an=an>1||an<0?0.5:an;am=am>1||am<0?0.5:am;return an+","+am}function b(am,ak){var aj,ai=true,al=0;if(ak.target.element.tagName==="SELECT"&&N&&N.target.id===am){N=null;return}if(!t.inFocus){n(am,ak)}al=e.length;if(al&&J(e[al-1],"event.type")!=="change"){c(am,ak)}aj=E(ak);al=e.length;if(ak.position.x===0&&ak.position.y===0&&al&&J(e[al-1],"target.tlType")==="radioButton"){ai=false}else{ak.target.position.relXY=aj}if(al&&J(e[al-1],"target.id")===am){if(ai){e[al-1].target.position.relXY=aj}}else{W(ak,am)}N=ak}function ab(){var ai=window.orientation||0;return ai}function L(ai){var aj="INVALID";if(typeof ai!=="number"){return aj}switch(ai){case 0:case 180:case 360:aj="PORTRAIT";break;case 90:case -90:case 270:aj="LANDSCAPE";break;default:aj="UNKNOWN";break}return aj}function a(aj){var ai=ab(),ak={type:4,event:{type:"orientationchange"},target:{prevState:{orientation:K,orientationMode:L(K)},currState:{orientation:ai,orientationMode:L(ai)}}};D(ak);K=ai}function ag(aj){var ai=false;if(!aj){return ai}ai=(ae.scale===aj.scale&&Math.abs((new Date()).getTime()-ae.timestamp)<500);return ai}function i(ai){ae.scale=ai.scale;ae.rotation=ai.rotation;ae.timestamp=(new Date()).getTime()}function P(ak){var ai,aj="INVALID";if(typeof ak==="undefined"||ak===null){return aj}ai=Number(ak);if(isNaN(ai)){aj="INVALID"}else{if(ai<1){aj="CLOSE"}else{if(ai>1){aj="OPEN"}else{aj="NONE"}}}return aj}function h(ak){var aj={},al=J(ak,"nativeEvent.rotation")||0,am=J(ak,"nativeEvent.scale")||1,ai=null,an={type:4,event:{type:"touchend"},target:{id:J(ak,"target.id"),idType:J(ak,"target.idType")}};if((z&&(!am||am===1))||(!z&&ak.nativeEvent.touches.length<=1)){return}ai={rotation:al?al.toFixed(2):0,scale:am?am.toFixed(2):1};ai.pinch=P(ai.scale);if(ag(ai)){return}if(ae&&ae.timestamp){aj.rotation=ae.rotation;aj.scale=ae.scale;aj.pinch=P(aj.scale)}if(J(aj,"scale")){an.target.prevState=aj}an.target.currState=ai;D(an);i(ai)}function x(aj){var ak,ai;if(null===aj||"object"!==typeof aj){return aj}if(aj instanceof Object){ak={};for(ai in aj){if(Object.prototype.hasOwnProperty.call(aj,ai)){ak[ai]=x(aj[ai])}}return ak}}function T(aj){var ai={type:1,clientState:{pageWidth:document.width||(document.documentElement===null?0:document.documentElement.offsetWidth),pageHeight:Math.max((typeof document.height==="undefined"?0:document.height),(typeof document.documentElement==="undefined"?0:document.documentElement.offsetHeight),(typeof document.documentElement==="undefined"?0:document.documentElement.scrollHeight)),viewPortWidth:window.innerWidth||document.documentElement.clientWidth,viewPortHeight:window.innerHeight||document.documentElement.clientHeight,viewPortX:window.pageXOffset||(document.body===null?0:document.body.scrollLeft),viewPortY:window.pageYOffset||(document.body===null?0:document.body.scrollTop),deviceOrientation:window.orientation||0,event:J(aj,"type")}},ak=1,al=1;if(Math.abs(ai.clientState.deviceOrientation)===90){if(z){ak=F-V}else{ak=o<=320?F-V:((F/p)-V)}}else{if(z){ak=o+V}else{ak=o<=320?o-V:((o/p)-V)}}al=(ai.clientState.viewPortWidth===0?1:ak/ai.clientState.viewPortWidth);ai.clientState.deviceScale=al-0.02;ai.clientState.deviceScale=ai.clientState.deviceScale.toFixed(3);ai.clientState.viewTime=af===null?0:(new Date()).getTime()-af.getTime();if(aj.type==="scroll"&&aa<=0){X=A.clientState.viewPortX;u=A.clientState.viewPortY}if(aj.type==="scroll"){ai.clientState.viewPortXStart=X;ai.clientState.viewPortYStart=u}ac=x(ai);return ai}function w(){if(ac!==null&&ac.clientState.event!=="load"){if(ac.clientState.event==="scroll"){delete ac.clientState.viewPortXStart;delete ac.clientState.viewPortYStart}ac.clientState.event="attention";ac.clientState.viewTime=R===null?0:(new Date()).getTime()-R.getTime();D(ac);R=new Date();return true}return false}function r(ai){if((ai.clientState.event==="scroll")&&(ai.clientState.viewPortXStart===ai.clientState.viewPortX)&&(ai.clientState.viewPortYStart===ai.clientState.viewPortY)){return false}return true}function H(aj){var ai=ad===null?0:(new Date()).getTime()-ad.getTime();if(ac!==null&&(aj.type!==ac.clientState.event||ai>=1000)){if(r(ac)){D(ac);if(ac.clientState.event!=="touchend"){A=x(ac)}}ac=null;af=null;aa=0;return true}if(ac!==null&&(aa===1&&ai>=1000)&&(ac.clientState.event==="resize"||ac.clientState.event==="scroll"||ac.clientState.event==="orientationchange"||aj.type==="screenview_load")){w()}return false}function f(at,al){var ap=["type","target.id"],ak=null,am,ao,an=true,aq=10,aj=0,ar=0,ai=0;if(!at||!al||typeof at!=="object"||typeof al!=="object"){an=false}for(am=0,ao=ap.length;an&&am<ao;am+=1){ak=ap[am];if(J(at,ak)!==J(al,ak)){an=false;break}}if(an){ar=J(at,"timestamp");ai=J(al,"timestamp");if(!(isNaN(ar)&&isNaN(ai))){aj=Math.abs(J(at,"timestamp")-J(al,"timestamp"));if(isNaN(aj)||aj>aq){an=false}}}return an}function O(){var ai=window.location.hash;if(ai===C){return}if(C){TLT.logScreenviewUnload(C)}if(ai){TLT.logScreenviewLoad(ai)}C=ai}function s(ai){var aj={type:4,event:{type:ai.type},target:{id:J(ai,"target.id"),idType:J(ai,"target.idType")}};D(aj)}return{init:function(){},destroy:function(){d(G)},onevent:function(ai){var ak=null,aj=null;if(typeof ai!=="object"||!ai.type){return}if(f(ai,S)){S=ai;return}S=ai;ak=J(ai,"target.id");if(Object.prototype.toString.call(Y[ak])!=="[object Object]"){Y[ak]={}}H(ai);l(ak,ai);ad=new Date();switch(ai.type){case"hashchange":O();break;case"focus":aj=n(ak,ai);break;case"blur":aj=d(ak,ai);break;case"click":aj=b(ak,ai);break;case"change":aj=c(ak,ai);break;case"orientationchange":aj=a(ai);break;case"touchend":aj=h(ai);aj=T(ai);break;case"load":TLT.logScreenviewLoad("root");aj=T(ai);R=new Date();break;case"screenview_load":R=new Date();break;case"resize":case"scroll":if(af===null&&aa<=0){af=new Date()}aj=T(ai);if(r(aj)){aj=null}else{aa+=1}break;case"unload":if(e!==null){I(e)}aj=T(ai);w();D(aj);TLT.logScreenviewUnload("root");break;default:s(ai);break}G=ak;return aj},onmessage:function(){}}});